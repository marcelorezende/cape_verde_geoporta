<!DOCTYPE html>
<html>
<head>
<meta name="viewport"></meta>
<title>CV Maps Base de Dados - Google Fusion Tables</title>
<style type="text/css">
html, body, #googft-mapCanvas {
  height: 100%;
  margin: 0;
  padding: 0;
  width: 100%;
}
</style>

<script type="text/javascript" src="https://maps.google.com/maps/api/js?v=3&key=AIzaSyByfAYP64tXG9BU7pwON631Yv73Nwc93qw"></script>

<script type="text/javascript">
  function initialize() {
    google.maps.visualRefresh = true;
    var isMobile = (navigator.userAgent.toLowerCase().indexOf('android') > -1) ||
      (navigator.userAgent.match(/(iPod|iPhone|iPad|BlackBerry|Windows Phone|iemobile)/));
    if (isMobile) {
      var viewport = document.querySelector("meta[name=viewport]");
      viewport.setAttribute('content', 'initial-scale=1.0, user-scalable=no');
    }
    var mapDiv = document.getElementById('googft-mapCanvas');
    mapDiv.style.width = isMobile ? '100%' : '100%';
    mapDiv.style.height = isMobile ? '100%' : '100%';
    map = new google.maps.Map(mapDiv, {
      center: new google.maps.LatLng(15.953469255424332, -23.94315805566407),
      zoom: 9,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });
    map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(document.getElementById('googft-legend-open'));
    map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(document.getElementById('googft-legend'));

    layer1 = new google.maps.FusionTablesLayer({
      map: map,
      heatmap: { enabled: false },
      query: {
        select: "col192",
        from: "1ya_WhasYcPExf65SN6UMzh5bnkCA2PiM5GyO8WCX",
        where: ""
      },
      options: {
        styleId: 2,
        templateId: 2
      }
    });
	
	layer2 = new google.maps.FusionTablesLayer({
      map: map,
      heatmap: { enabled: false },
      query: {
        select: "col192",
        from: "1ya_WhasYcPExf65SN6UMzh5bnkCA2PiM5GyO8WCX",
        where: ""
      },
      options: {
        styleId: 7,
        templateId: 7
      }
    });
	    
	layer3 = new google.maps.FusionTablesLayer({
      map: map,
      heatmap: { enabled: false },
      query: {
        select: "col192",
        from: "1ya_WhasYcPExf65SN6UMzh5bnkCA2PiM5GyO8WCX",
        where: ""
      },
      options: {
        styleId: 8,
        templateId: 8
      }
    });

    layer4 = new google.maps.FusionTablesLayer({
      map: map,
      heatmap: { enabled: false },
      query: {
        select: "col192",
        from: "1ya_WhasYcPExf65SN6UMzh5bnkCA2PiM5GyO8WCX",
        where: ""
      },
      options: {
        styleId: 9,
        templateId: 9
      }
    });

	  layer5 = new google.maps.FusionTablesLayer({
      map: map,
      heatmap: { enabled: false },
      query: {
        select: "col6",
        from: "1ya_WhasYcPExf65SN6UMzh5bnkCA2PiM5GyO8WCX",
        where: ""
      },
      options: {
        styleId: 10,
        templateId: 10
      }
    });

    if (isMobile) {
      var legend = document.getElementById('googft-legend');
      var legendOpenButton = document.getElementById('googft-legend-open');
      var legendCloseButton = document.getElementById('googft-legend-close');
      legend.style.display = 'none';
      legendOpenButton.style.display = 'block';
      legendCloseButton.style.display = 'block';
      legendOpenButton.onclick = function() {
        legend.style.display = 'block';
        legendOpenButton.style.display = 'none';
      }
      legendCloseButton.onclick = function() {
        legend.style.display = 'none';
        legendOpenButton.style.display = 'block';
      }
    }
  }

  google.maps.event.addDomListener(window, 'load', initialize);
</script>
</head>

<body>
<div id="controls" class="nicebox">
  <div>
  <select id="census-variable">
     <option value="all">All</option>
    <option value="layer1">Erosion</option>
    <option value="layer2">Land Use</option>
    <option value="layer3">Land Use Change</option>
    <option value="layer4">Land Productivity</option>
    <option value="layer5">Plots</option>
  </select>
  </div>

</div>
<div id="data-box" class="nicebox">
  <label id="data-label" for="data-value"></label>
  <span id="data-value"></span>
</div>
  <div id="googft-mapCanvas"></div>
 
 <script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
<script>

$('#census-variable').change(function() {
  var val = $(this).val();
  layer1.setMap(null);
  layer2.setMap(null);
  layer3.setMap(null);
  layer4.setMap(null);
  layer5.setMap(null);
  switch (val) {
      case "all":
      if (layer1.getMap() == null) layer1.setMap(map);
      if (layer2.getMap() == null) layer2.setMap(map);
      if (layer3.getMap() == null) layer3.setMap(map);
      if (layer4.getMap() == null) layer4.setMap(map);
      if (layer5.getMap() == null) layer5.setMap(map);
	  break;
    case "layer1":
      if (layer1.getMap() == null) layer1.setMap(map);
      break;
    case "layer2":
      if (layer2.getMap() == null) layer2.setMap(map);
      break;
    case "layer3":
      if (layer3.getMap() == null) layer3.setMap(map);
      break;
    case "layer4":
      if (layer4.getMap() == null) layer4.setMap(map);
      break;
    case "layer5":
      if (layer5.getMap() == null) layer5.setMap(map);
      break;
  }

})

</script>
  
</body>
</html>
